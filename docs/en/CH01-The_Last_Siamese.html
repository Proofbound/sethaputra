<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ch01-the_last_siamese – The Dictionary Maker</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c1fac2584b48ed01fb6e278e36375074.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="sec-last-siamese" class="level1">
<h1>The Last Siamese</h1>
<section id="a-man-between-two-worlds" class="level2">
<h2 class="anchored" data-anchor-id="a-man-between-two-worlds">A Man Between Two Worlds</h2>
<p>So Sethaputra represented the last generation of the old Siamese elite—Western-educated royalists who witnessed their world disappear in revolution, war, and social upheaval.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../_resources/assets/images/ch1-SoSethaputra1.jpeg" class="img-fluid figure-img"></p>
<figcaption>Sor was always well groomed on Tarutao island, where he served part of his sentence from 1939 to 1943</figcaption>
</figure>
</div>
<p>In the photograph, So Sethaputra stands with quiet dignity on the remote prison island of Tarutao, his white shirt immaculately pressed despite years of confinement, his hair carefully combed, his bearing unmistakably that of a gentleman. Even in exile, even as Prisoner Number 26, he maintained the composure and refinement that marked him as a product of old Siam’s educated elite. This was a man who refused to let circumstances diminish his sense of self—a characteristic that would prove essential to his survival and to the completion of his life’s work.</p>
<p>Born in 1903 into a world that seemed as permanent as the golden spires of the Grand Palace, So Sethaputra was shaped by the confidence and cultural certainty of late-nineteenth-century Siam. His was a Thailand that still called itself by its ancient name, a kingdom that had successfully navigated the treacherous waters of European colonialism while preserving its independence and dignity. The Siam of So’s youth was a society in transition, cautiously embracing modernity while jealously guarding its traditions—much like So himself would do throughout his extraordinary life.</p>
</section>
<section id="the-inheritance-of-two-worlds" class="level2">
<h2 class="anchored" data-anchor-id="the-inheritance-of-two-worlds">The Inheritance of Two Worlds</h2>
<p>So’s family embodied the intellectual flowering of late Siamese society. His father was “an inquisitive scientist who spent his life inventing new contraptions,” a man whose sharp analytical mind and passion for understanding the natural world would be passed down to his son. In an era when traditional knowledge systems were encountering Western scientific methods, So’s father represented the bridge between worlds—a Siamese intellectual who could appreciate both the wisdom of the ancestors and the discoveries of European science.</p>
<p>But it was from his mother, Gaysorn, that So inherited perhaps his most crucial gifts: a love of language, literature, and the written word. In a society where female literacy was still uncommon, Gaysorn was “one of the few Siamese women at the turn of the last century who could read and write.” This was no small achievement in traditional Siam, where education had long been the preserve of men and the monastic community. Her ability to navigate the world of letters made her exceptional, and she would use this gift not merely for her own enrichment but to become the invisible co-author of her son’s greatest work.</p>
<p>From his mother, So “developed a passion for literature, books and writing”—a passion that would sustain him through the darkest years of his imprisonment. But Gaysorn’s influence went far beyond intellectual inspiration. She was, as So would later write in one of his dictionary entries, the embodiment of the truth that “motherly love can never be destroyed.” This love would manifest itself in ways that seemed impossible: smuggling thousands of manuscript pages out of maximum-security prisons, maintaining a secret correspondence network, and sustaining her son’s work even when the authorities sought to destroy it.</p>
<p>When So’s father died, Gaysorn “devoted her entire life to him,” becoming not just a mother but a patron, collaborator, and co-conspirator. Their relationship would prove to be one of the most remarkable partnerships in the history of Thai literature—a bond that transcended the walls of prisons, survived the chaos of war, and ultimately brought one of Thailand’s most important educational works into existence.</p>
</section>
<section id="the-last-golden-age" class="level2">
<h2 class="anchored" data-anchor-id="the-last-golden-age">The Last Golden Age</h2>
<p>The Siam of So’s youth was a kingdom at the height of its cultural confidence. Under King Chulalongkorn (Rama V) and his successor King Vajiravudh (Rama VI), the country had undertaken a remarkable transformation, modernizing its institutions while preserving its essential character. This was the era of grand railways and telegraph lines, of new schools and hospitals, of a bureaucracy increasingly staffed by merit rather than birth. Yet it was also still recognizably the Siam of old—a Buddhist kingdom where the monarch was revered as a semi-divine figure, where court ceremony maintained its ancient magnificence, and where tradition provided the stable foundation for progress.</p>
<p>For the educated elite of So’s generation, this seemed like the best of all possible worlds. They could study at European universities—as So would at a mining engineering program in England—while returning to positions of honor and influence in a society that valued their knowledge. They could embrace Western learning without abandoning their cultural identity, could appreciate Shakespeare and Dickens while remaining deeply rooted in Thai literature and Buddhist philosophy.</p>
<p>This was a generation that believed in progress without revolution, in reform without rupture. They saw themselves as the inheritors of a great civilization that was successfully adapting to the modern world. The idea that this entire order might be swept away by military coup, that they might find themselves branded as enemies of the state, would have seemed not just unlikely but almost inconceivable.</p>
</section>
<section id="a-mind-shaped-by-two-traditions" class="level2">
<h2 class="anchored" data-anchor-id="a-mind-shaped-by-two-traditions">A Mind Shaped by Two Traditions</h2>
<p>So’s education followed the pattern typical of his class and generation. After his foundational schooling in Siam, he traveled to England to study mining engineering—a practical field that reflected the kingdom’s modernizing ambitions. The choice was not accidental: Siam in the early twentieth century was eager to develop its natural resources and reduce its dependence on foreign expertise. Young men like So were seen as the future leaders who would combine Western technical knowledge with Thai cultural understanding.</p>
<p>But So’s years in England exposed him to more than engineering principles. He encountered the great traditions of English literature, became fluent in the language not just as a technical tool but as a medium of culture and expression. He absorbed the English respect for democratic institutions, for parliamentary debate, for the gradual evolution of political systems. When he wrote from England in 1923 that students in France were “plotting against the monarchy” and expressed his fear that “they are not interested in democratic change,” he was speaking as someone who had come to appreciate the English model of constitutional development.</p>
<p>Most importantly, his time abroad gave him a comparative perspective on his own society. He could see Siam’s strengths and weaknesses with the clarity that comes only from distance. He understood that “parliamentary democracy cannot be instituted by military rule; it is a gradual learning process, requiring education, experience and good will.” This wisdom, gained in the libraries and lecture halls of England, would inform his later opposition to the hasty and militaristic changes imposed on his homeland.</p>
</section>
<section id="the-royal-spokesman" class="level2">
<h2 class="anchored" data-anchor-id="the-royal-spokesman">The Royal Spokesman</h2>
<p>When So returned to Siam in 1926, he made a choice that revealed much about his character and values. Despite his training in mining engineering, he was “more interested in journalism” and “was a gifted writer.” Rather than pursuing the lucrative and prestigious career that his technical education had prepared him for, he followed his intellectual passions into the world of media and communication.</p>
<p>His work at the Daily Mail as a political correspondent brought him to the attention of the highest levels of government. In 1928, “he was recognised by his Majesty the King for his communication and language skills and was appointed Royal Spokesman, today’s equivalent of press secretary.” This appointment came with the royally-bestowed title of “Luang Mahasit Woharn”—literally, “the man of great eloquence.”</p>
<p>The title was more than ceremonial recognition; it reflected So’s genuine gifts as a communicator and his deep understanding of both Thai and Western cultures. As Royal Spokesman, he served as the bridge between the ancient institution of the monarchy and the modern world of journalism and public opinion. He became “an analyst and adviser on current diplomatic affairs, foreign trends and local personalities,” and “an integral part of the official secretariat of the Royal household.”</p>
<p>In this role, So was perfectly positioned to understand the tensions and possibilities of his era. He could see how Thailand was viewed by the outside world, could gauge the pressures for change that were building both domestically and internationally. He shared with King Prajadhipok (Rama VII) the belief “that a constitutional monarchy supported by a true democratic parliamentary system would soon prevail in Siam.”</p>
<p>This was the vision of gradual, organic change that appealed to thoughtful members of the educated elite: reform that would preserve the best of the old while incorporating the most valuable elements of the new. It was a vision that required patience, wisdom, and good faith on all sides—qualities that would prove to be in tragically short supply when the crisis finally came.</p>
</section>
<section id="the-world-that-was-lost" class="level2">
<h2 class="anchored" data-anchor-id="the-world-that-was-lost">The World That Was Lost</h2>
<p>The photograph from Tarutao captures more than just So’s personal dignity; it preserves an image of a vanished world. The man in the white shirt, maintaining his standards even in prison, represents the last generation of the old Siamese elite—a class that combined deep cultural roots with cosmopolitan education, traditional values with modern knowledge, loyalty to the monarchy with appreciation for democratic ideals.</p>
<p>These men and women had grown up believing that their society was successfully navigating the challenges of modernity. They had seen their kingdom preserve its independence when neighboring Burma, Cambodia, Laos, and Malaya fell under European control. They had witnessed the steady development of infrastructure, education, and governance that seemed to promise continued progress without revolutionary upheaval.</p>
<p>But history had other plans. The military coup of 1932 would shatter this world as completely as if an earthquake had struck. The patient work of constitutional reform would be swept aside by the impatience of junior officers. The gradual evolution toward democracy would be replaced by the harsh rule of military strongmen. And men like So Sethaputra—the very people whose education and expertise should have made them leaders of the new order—would find themselves branded as enemies and exiled to remote prison islands.</p>
<p>Yet even in defeat, even in exile, So carried within himself the values and culture of the world he had lost. His insistence on maintaining his personal dignity, his commitment to education and learning, his belief in the power of knowledge to transcend political persecution—all of these reflected the best qualities of the civilization that had shaped him.</p>
<p>The dictionary he would create in prison was more than a reference work; it was a preservation of that lost world, a bridge between the Siam that was and the Thailand that was becoming. In every carefully crafted definition, in every example sentence drawn from literature and experience, he was keeping alive the cultural traditions and intellectual values that the new order seemed determined to destroy.</p>
<p>Standing on Tarutao in his pressed white shirt, So Sethaputra was indeed “the last Siamese”—not because he was the final representative of an ethnic group, but because he embodied the spirit of a civilization that was passing away. His story is the story of that transformation, and of one man’s extraordinary effort to preserve something precious in the midst of revolutionary change.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>